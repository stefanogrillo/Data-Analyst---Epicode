# 3.4 Progetto su Pandas, Cursor e MySQL 

[Parte 1](https://github.com/stefanogrillo/Data-Analyst---Epicode/blob/4b215e63e39b1ce6ac089a1273e9c5af09a4218b/Week%203/3.4%20Progetto/3.4%20Progetto%20pt%201%20-%20Cursori.ipynb)

[Parte 1 in codice](https://github.com/stefanogrillo/Data-Analyst---Epicode/blob/4b215e63e39b1ce6ac089a1273e9c5af09a4218b/Week%203/3.4%20Progetto/3.4%20Progetto%20pt%201%20-%20Cursory.py)

[Parte 2](https://github.com/stefanogrillo/Data-Analyst---Epicode/blob/4b215e63e39b1ce6ac089a1273e9c5af09a4218b/Week%203/3.4%20Progetto/3.4%20Progetto%20pt%202%20-%20Pandas.ipynb)

[Parte 2 in codice](https://github.com/stefanogrillo/Data-Analyst---Epicode/blob/4b215e63e39b1ce6ac089a1273e9c5af09a4218b/Week%203/3.4%20Progetto/3.4%20Progetto%20pt%202%20-%20Pandas.py)

In questo progetto analizziamo un database di un ecommerce, sia tramite cursore che tramite Pandas. Il database scelto è su MySQL: per utilizzarlo va installato sul computer il software MySQL e da lì va importato il DB.

### Librerie

```python
    # import mysql.connector
    from sqlalchemy import create_engine
    import pprint
    # from methods import connection_database, close_connection, trying
    import numpy as np
    import pandas as pd
    from matplotlib import pyplot as plt
    # from pandas_profiling import ProfileReport
```

```python
# METHODS for CURSOR
def connection_database(user, password, host, database):
    """
    Create a connection with the SQL DataBase
    :variable: user: user's name
    :variable: password: user's password
    :variable: host: IP address of the SQL server
    :variable: database: SQL DB's name
    :return: conn (connection) or None
    """
    try:
        c = mysql.connector.connect(user=user, password=password, host=host, database=database)
        return c
    except mysql.connector.errors.DatabaseError as db_error:
        print(db_error.msg)
        return None


def close_connection(connection):
    """
    Close a connection to the SQL DataBase
    :variable: user: user's name
    """
    connection.close()


def trying(sqll):
    """
    Take a SQL statement and try/except it, visualizing the outcome
    :variable: sql: SQL statement
    """
    try:
        cursor.execute(sqll)
        result = cursor.fetchall()
        return result
    except:
        conn.rollback()
```
